<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript">
      (function() {
        var timerBar; 
        var timerLabel;
        var playButton;
        var stopButton;
        var timeButtons;
        var currentTime;
        var selectedTime;
        var timer;


        function init() {
          timerBar   = $('#timerBar');
          timerLabel = $('#timerLabel');

          timeButtons = $('button.time');
          playButton  = $('button.play');
          stopButton  = $('button.stop');

          timeButtons.click(setupTime);

          playButton.click(play);
          stopButton.click(stop);
        }

        function setupTime() {
          var self = $(this);
          selectedTime = parseInt(self.data('seconds'));

          timerLabel.text(self.text());
          timerBar.attr('max', selectedTime);
          timerBar.attr('value', '0');
          currentTime = 0;
        };

        function play() {
          timeButtons.attr('disabled', 'disabled');
          playButton.attr('disabled', 'disabled');
          stopButton.removeAttr('disabled');
          startTimer();
        };

        function stop() {
          playButton.removeAttr('disabled');
          stopButton.attr('disabled', 'disabled');
          timeButtons.removeAttr('disabled');
          stopTimer();
        };

        function startTimer() {
          timer = setInterval(tick, 100);
        };

        function stopTimer() {
          window.clearInterval(timer);
        };

        function tick() {
          currentTime += 1;
          if (currentTime > selectedTime) {
            stop();
          } else {
            timerBar.attr('value', currentTime);
          }
        };

        jQuery(document).ready(function() {
          init();
        });
      }());
    </script>
    <style>
      progress {
        background-color: #f3f3f3;
        border: 0;
        height: 50px;
        width: 90%;
        border-radius: 9px;
      }

      .timerLabel {
          font-family: "Arial";
          position: relative;
          left: -100px;
          font-size: large;
      }
    </style>
    <link href="kanbantimer.css" media="all" rel="stylesheet" />
  </head>

  <body>
    <div>
      <progress id="timerBar" value="0" max="0"></progress>
      <span id="timerLabel" class="timerLabel"></span>
      <div>
        <button class="time" data-seconds="300">5m</button>
        <button class="time" data-seconds="120">2m</button>
        <button class="play">Play</button>
        <button class="stop">Stop</button>
      </div>
    <div>
  </body>
</html>
